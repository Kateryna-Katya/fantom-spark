{"version":3,"file":"main-uF8yeBSJ.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    // --- 1. ПЛАВНЫЙ СКРОЛЛ (LENIS) ---\n    // Объявляем переменную здесь, чтобы она была видна во всем коде\n    let lenis;\n\n    // Проверяем, подключилась ли библиотека Lenis\n    if (typeof Lenis !== 'undefined') {\n        lenis = new Lenis({\n            duration: 1.2,\n            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n            smooth: true,\n        });\n\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n        \n        // Интеграция с GSAP (чтобы скролл не дергался при анимациях)\n        if (typeof gsap !== 'undefined') {\n             gsap.ticker.add((time) => {\n                lenis.raf(time * 1000);\n            });\n            gsap.ticker.lagSmoothing(0);\n        }\n    } else {\n        console.warn(\"Библиотека Lenis не найдена. Плавный скролл отключен.\");\n    }\n\n    // --- 2. ИКОНКИ ---\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // --- 3. АНИМАЦИИ (GSAP) ---\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n\n        // Анимация заголовка (вылет букв/слов)\n        const tl = gsap.timeline();\n        tl.from('.hero__title .line', {\n            y: 100,\n            opacity: 0,\n            duration: 1,\n            stagger: 0.2,\n            ease: \"power4.out\"\n        })\n        .from('.hero__desc', { opacity: 0, y: 20, duration: 0.8 }, \"-=0.5\")\n        .from('.hero__actions', { opacity: 0, y: 20, duration: 0.8 }, \"-=0.6\");\n\n        // Анимация появления карточек при скролле\n        const cards = document.querySelectorAll('.about__card');\n        if (cards.length > 0) {\n            cards.forEach((card, i) => {\n                gsap.from(card, {\n                    scrollTrigger: {\n                        trigger: card,\n                        start: \"top 85%\",\n                    },\n                    y: 50,\n                    opacity: 0,\n                    duration: 0.6,\n                    delay: i * 0.1\n                });\n            });\n        }\n    }\n\n    // --- 4. МОБИЛЬНОЕ МЕНЮ ---\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    // Изменение цвета хедера при скролле\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            if(header) header.style.background = 'rgba(212, 255, 0, 0.95)';\n        } else {\n            if(header) header.style.background = 'transparent';\n        }\n    });\n\n    // Открытие/Закрытие меню\n    if (burger && mobileMenu) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('is-active');\n            mobileMenu.classList.toggle('is-active');\n\n            // Блокируем скролл Lenis, когда меню открыто\n            if (mobileMenu.classList.contains('is-active')) {\n                if (lenis) lenis.stop();\n            } else {\n                if (lenis) lenis.start();\n            }\n        });\n    }\n\n    // Закрытие меню при клике на ссылку\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (burger) burger.classList.remove('is-active');\n            if (mobileMenu) mobileMenu.classList.remove('is-active');\n            if (lenis) lenis.start();\n        });\n    });\n\n    // --- 5. ФОРМА КОНТАКТОВ (Валидация и капча) ---\n    const form = document.getElementById('leadForm');\n    \n    if (form) {\n        const phoneInput = document.getElementById('phone');\n        const phoneError = document.getElementById('phoneError');\n        const statusDiv = document.getElementById('formStatus');\n        \n        // Простая математическая капча\n        const captchaQ = document.getElementById('captchaQuestion');\n        const captchaA = document.getElementById('captchaAnswer');\n        let n1 = Math.floor(Math.random() * 10) + 1;\n        let n2 = Math.floor(Math.random() * 10) + 1;\n        \n        if(captchaQ) captchaQ.innerText = `${n1} + ${n2}`;\n\n        // Валидация телефона (только цифры)\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n                if (e.target.value.length < 10) {\n                    if(phoneError) phoneError.innerText = \"Минимум 10 цифр\";\n                } else {\n                    if(phoneError) phoneError.innerText = \"\";\n                }\n            });\n        }\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            if (captchaA && parseInt(captchaA.value) !== n1 + n2) {\n                if(statusDiv) {\n                    statusDiv.innerText = \"Ошибка в примере! Посчитайте снова.\";\n                    statusDiv.className = \"form-status error\";\n                }\n                return;\n            }\n\n            // Имитация отправки\n            const submitBtn = form.querySelector('button');\n            const originalText = submitBtn.innerText;\n            submitBtn.innerText = \"Отправка...\";\n            submitBtn.disabled = true;\n\n            setTimeout(() => {\n                submitBtn.innerText = originalText;\n                submitBtn.disabled = false;\n                form.reset();\n                \n                // Обновляем капчу\n                n1 = Math.floor(Math.random() * 10) + 1;\n                n2 = Math.floor(Math.random() * 10) + 1;\n                if(captchaQ) captchaQ.innerText = `${n1} + ${n2}`;\n\n                if(statusDiv) {\n                    statusDiv.innerText = \"Заявка успешно отправлена!\";\n                    statusDiv.className = \"form-status success\";\n                    setTimeout(() => { statusDiv.innerText = \"\"; }, 5000);\n                }\n            }, 1500);\n        });\n    }\n\n    // --- 6. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookie');\n    \n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            setTimeout(() => cookiePopup.classList.add('is-visible'), 10);\n        }, 2000);\n    }\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            if(cookiePopup) {\n                cookiePopup.classList.remove('is-visible');\n                setTimeout(() => cookiePopup.style.display = 'none', 500);\n            }\n        });\n    }\n\n});"],"names":["lenis","raf","time","t","cards","card","i","header","burger","mobileMenu","mobileLinks","link","form","phoneInput","phoneError","statusDiv","captchaQ","captchaA","n1","n2","e","submitBtn","originalText","cookiePopup","acceptBtn"],"mappings":"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"}